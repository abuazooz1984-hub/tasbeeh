<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>📿 عداد التسبيح</title>
  <style>
    body {
      font-family: 'Tahoma', sans-serif;
      background: #f0f4f8;
      text-align: center;
      margin: 0;
      padding: 20px;
    }
    h1 {
      color: #2563eb;
      margin-bottom: 5px;
    }
    p {
      color: #444;
      margin-bottom: 20px;
    }
    .stats {
      display: flex;
      justify-content: space-around;
      margin: 15px 0;
    }
    .box {
      background: #fff;
      padding: 12px;
      border-radius: 12px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
      width: 28%;
    }
    .box div:first-child {
      color: #666;
      margin-bottom: 5px;
    }
    .box div:last-child {
      font-size: 22px;
      font-weight: bold;
      color: #111;
    }
    .big {
      font-size: 45px;
      color: #111;
      margin: 15px 0;
      font-weight: bold;
    }
    button {
      background: #2563eb;
      color: #fff;
      border: none;
      padding: 12px 20px;
      margin: 5px;
      font-size: 18px;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s;
    }
    button:hover {
      background: #1e40af;
    }
    .controls {
      margin-top: 15px;
    }
    select, input {
      padding: 8px;
      margin: 8px;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <h1>📿 عداد التسبيح — 100 مرة</h1>
  <p>كل ضغطة تُنقص العدد واحدًا حتى تصل إلى الصفر.</p>

  <div class="stats">
    <div class="box"><div>الإجمالي</div><div id="total">100</div></div>
    <div class="box"><div>المنجز</div><div id="done">0</div></div>
    <div class="box"><div>المتبقي</div><div id="remaining">100</div></div>
  </div>

  <h2 id="phrase">الحمد لله</h2>
  <div class="big" id="counter">100</div>

  <button id="tasbeehBtn">تسبيح</button>
  <div class="controls">
    <button id="undoBtn">↩️ تراجع</button>
    <button id="resetBtn">🔄 إعادة الضبط</button>
  </div>

  <div class="controls">
    <label>الإجمالي: <input type="number" id="totalInput" value="100"></label>
    <label>العبارة: 
      <select id="phraseSelect">
        <option>سبحان الله</option>
        <option>الحمد لله</option>
        <option>الله أكبر</option>
        <option>لا إله إلا الله</option>
        <option>استغفر الله</option>
        <option>لا إله إلا أنت سبحانك إني كنت من الظالمين</option>
        <option>لا حول ولا قوة إلا بالله العلي العظيم</option>
        <option>اللهم صل وسلم وبارك على سيدنا محمد</option>
      </select>
    </label>
  </div>

  <script>
    let total = 100, remaining = 100, done = 0;
    const totalEl = document.getElementById("total");
    const remainingEl = document.getElementById("remaining");
    const doneEl = document.getElementById("done");
    const counterEl = document.getElementById("counter");
    const phraseEl = document.getElementById("phrase");
    const btn = document.getElementById("tasbeehBtn");

    btn.addEventListener("click", () => {
      if (remaining > 0) {
        remaining--;
        done++;
        updateUI();
        if (navigator.vibrate) navigator.vibrate(100);
      }
    });

    document.getElementById("undoBtn").addEventListener("click", () => {
      if (done > 0) {
        remaining++;
        done--;
        updateUI();
      }
    });

    document.getElementById("resetBtn").addEventListener("click", () => {
      resetCounter();
    });

    document.getElementById("totalInput").addEventListener("change", e => {
      total = parseInt(e.target.value) || 100;
      resetCounter();
    });

    document.getElementById("phraseSelect").addEventListener("change", e => {
      phraseEl.textContent = e.target.value;
      resetCounter();
    });

    function updateUI() {
      totalEl.textContent = total;
      remainingEl.textContent = remaining;
      doneEl.textContent = done;
      counterEl.textContent = remaining;
    }

    function resetCounter() {
      remaining = total;
      done = 0;
      updateUI();
    }

    updateUI();
  </script>
</body>
</html>